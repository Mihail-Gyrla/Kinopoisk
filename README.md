#### Документация проекта Кинопоиск

# 1. Общая информация
Проект представляет собой набор автоматизированных тестов для веб‑сервиса «Кинопоиск», охватывающих:

UI‑тесты (проверка пользовательского интерфейса через Selenium);
API‑тесты (проверка REST‑эндпоинтов через requests).
Цель: обеспечение качества функционала поиска фильмов по различным критериям.

# 2. Структура проекта

Thesis_Kinopoisk/
├── __init__.py
├── README.md                 # Эта документация
├── pytest.ini              # Конфигурация pytest
├── config.py               # Базовые настройки (URL, API‑ключ, браузер)
├── requirements.txt          # Зависимости
├── test_data.py            # Константы тестовых данных
├── conftest.py             # Общие фикстуры pytest
├── Pages/
│   ├── __init__.py
│   ├── api_kinopoisk.py     # Класс-клиент для API Кинопоиска
│   └── ui_kinopoisk.py     # Класс-страница для UI Кинопоиска
└── Test/
    ├── __init__.py
    ├── test_api_kinopoisk.py # Тесты API
    └── test_ui_kinopoisk.py  # Тесты UI


# 3. Предварительные требования:

Перед запуском тестов убедитесь, что у вас установлены следующие компоненты:
*   **Python 3.6+**
*   **pip** (менеджер пакетов Python)
*   **Selenium** (`pip install selenium`)
*   **pytest** (`pip install pytest`)
*   **allure-pytest** (`pip install allure-pytest`)
*   **Web Driver**.
*   **Установка зависимостей**
   ```bash
   pip install -r requirements.txt
   ```

# 4. Конфигурация тестов
## 4.1. config.py
Содержит базовые URL и настройки:

BASE_URL — основной URL Кинопоиска;
BASE_URL_API — URL API;
API_KEY — ключ для доступа к API;
BROWSER — браузер для UI‑тестов.
## 4.2. pytest.ini
Регистрирует маркеры:

ini
[tool:pytest]
markers =
    ui: Тесты UI
    api: Тесты API

# 5. Тестовые данные
Данные для тестов определены в test_data.py:

## 5.1 UI‑тесты (UI_SEARCH_QUERIES, UI_EXPECTED_TEXT)
Поисковые запросы: кириллица, латиница, год, иероглифы, частичный запрос, пустой запрос.
Ожидаемые фрагменты текста в результатах.
## 5.2 API‑тесты (API_SEARCH_QUERIES, API_EXPECTED_STATUS)
Запросы: режиссёр, ключевые слова, жанр, смайлики, случайные буквы, спецсимволы, пробел, неверный ключ.
Ожидаемые статусы: 200, 400, 401, 500.

# 6. Запуск тестов
## 6.1. Основные команды
Все тесты:
   ```bash
      pytest
   ```
Только UI‑тесты:
   ```bash
      pytest -m "ui"
   ```
Только API‑тесты:
   ```bash
      pytest -m "api"
   ```
Тесты с генерацией отчета Allure:
   ```bash
   pytest --alluredir=./allure-results
   ```
Просмотр отчета Allure:
   ```bash
      allure serve ./allure-results
   ```

# 7. Описание тестов
## 7.1. API‑тесты (test_api_kinopoisk.py)
Проверяют:
* Поиск по режиссёру (test_films_by_director)
  Статус 200;
  Наличие результатов;
* Соответствие имени режиссёра.
  Поиск по ключевым словам (test_search_films_by_keywords)
  Статус 200;
* Наличие фильмов с указанным словом.
  Поиск по жанру (test_search_films_by_genre)
  Статус 200;
* Наличие жанра в результатах.
  Некорректные запросы (смайлики, спецсимволы, пробелы)
  Ожидаемый статус 400;
* Отсутствие результатов.
  Ошибки API
  POST вместо GET → статус 500;
  Неверный API‑ключ → статус 401.
## 7.2. UI‑тесты (test_ui_kinopoisk.py)
Проверяют:
* Поиск на кириллице (test_cyrillic_search)
  Ввод запроса;
  Наличие результатов с совпадением по тексту.
* Поиск на латинице (test_latin_text)
  Аналогично выше.
* Поиск по году (test_by_year)
* Фильтрация по году выпуска.
* Поиск с иероглифами (test_hieroglyphs_text)
* Обработка нелатинских символов.
* Частичный поиск (test_partial_search)
* Нахождение фильмов по подстроке.
* Пустой запрос (test_empty_search)
* Проверка наличия кнопок «Случайный фильм» или «Навигатор».

### Репозиторий: [https://github.com/Mihail-Gyrla/Kinopoisk.git]
